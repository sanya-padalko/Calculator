JMP :main

:fact
PUSHR RAX
PUSH 1
JA :push
PUSH 1
RET

:push
PUSHR RAX

PUSHR RAX
PUSH 1
SUB
POPR RAX

CALL :fact
MUL
RET

:main
IN
POPR RAX
CALL :fact
OUT
HLT
