IN
POPR RAX
IN
POPR RBX
IN
POPR RCX

PUSHR RAX
PUSH 0
JNE :square

PUSHR RBX
PUSH 0
JNE :linear

PUSHR RCX
PUSH 0
JNE :noroots

JMP :infinity

:linear
PUSH 1
OUT
PUSHR RCX
PUSH -1
MUL
PUSHR RBX
DIV
OUT
JMP :end

:square
PUSHR RBX
PUSH 2
POW
PUSH 4
PUSHR RAX
PUSHR RCX
MUL
MUL
SUB
POPR RDX
PUSHR RDX
PUSH 0
JB :noroots

PUSHR RDX
PUSH 0
JNE :2roots
PUSH 1
OUT
PUSHR RBX
PUSH -1
MUL
PUSH 2
DIV
PUSHR RAX
DIV
OUT

JMP :end

:2roots
PUSH 2
OUT
PUSHR RDX
SQRT
POPR RDX

PUSHR RDX
PUSH -1
MUL
PUSHR RBX
SUB
PUSH 2
DIV
PUSHR RAX
DIV
OUT

PUSHR RDX
PUSHR RBX
SUB
PUSH 2
DIV
PUSHR RAX
DIV
OUT
JMP :end

:infinity
PUSH -1
OUT
JMP :end

:noroots
PUSH 0
OUT

:end
HLT